!function(x,t){if(void 0!==x){var e="http"+("https:"===t.location.protocol?"s":"")+"://",s="logs-01.loggly.com",n="logglytrackingsession",i=n.length+1,r="loggly";c.prototype={setSession:function(o){o?(this.session_id=o,this.setCookie(this.session_id)):this.session_id||(this.session_id=this.readCookie(),this.session_id||(this.session_id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var e=16*Math.random()|0;return("x"==o?e:3&e|8).toString(16)}),this.setCookie(this.session_id)))},push:function(o){var e=typeof o;if(o&&("object"===e||"string"===e)){var s,t,n,i,r,l,a,g,c=this;if("string"===e)o={text:o};else{if(o.logglyCollectorDomain)return void(c.logglyCollectorDomain=o.logglyCollectorDomain);if(void 0!==o.sendConsoleErrors&&function(i,o){if(i.sendConsoleErrors=o,!0===i.sendConsoleErrors){var r=x.onerror;x.onerror=function(o,e,s,t,n){i.push({category:"BrowserJsException",exception:{message:o,url:e,lineno:s,colno:t,stack:n?n.stack:"n/a"}}),r&&"function"==typeof r&&r.apply(x,arguments)}}}(c,o.sendConsoleErrors),o.tag&&(a=c,g=o.tag,a.tag=g),void 0!==o.useUtfEncoding&&(r=c,l=o.useUtfEncoding,r.useUtfEncoding=l),o.useDomainProxy&&(n=c,i=o.useDomainProxy,n.useDomainProxy=i,u(n)),o.logglyKey)return s=c,t=o.logglyKey,s.key=t,s.setSession(),void u(s);if(o.session_id)return void c.setSession(o.session_id)}c.key&&c.track(o)}},track:function(e){e.sessionId=this.session_id;try{var o=new XMLHttpRequest;o.open("POST",this.inputUrl,!0),!0===l.useUtfEncoding?o.setRequestHeader("Content-Type","text/plain; charset=utf-8"):o.setRequestHeader("Content-Type","text/plain"),o.send(JSON.stringify(e))}catch(o){x&&x.console&&"function"==typeof x.console.log&&(console.log("Failed to log to loggly because of this exception:\n"+o),console.log("Failed log data:",e))}},readCookie:function(){var o=t.cookie,e=o.indexOf(n);if(e<0)return!1;var s=o.indexOf(";",e+1);return s=s<0?o.length:s,o.slice(e+i,s)},setCookie:function(o){t.cookie=n+"="+o}};var o=x._LTracker,l=new c;if(o&&o.length){var a=0,g=o.length;for(a=0;a<g;a++)l.push(o[a])}x._LTracker=l,x.LogglyTracker=c}function c(){this.key=!1,this.sendConsoleErrors=!1,this.tag="jslogger",this.useDomainProxy=!1,this.useUtfEncoding=!1}function u(o){1==o.useDomainProxy?o.inputUrl=e+x.location.host+"/"+r+"/inputs/"+o.key+"/tag/"+o.tag:o.inputUrl=e+(o.logglyCollectorDomain||s)+"/inputs/"+o.key+"/tag/"+o.tag}}(window,document);
//# sourceMappingURL=loggly.tracker-2.2.4.min.map